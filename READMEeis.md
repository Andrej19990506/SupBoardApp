# ü§ñ EisBot - Telegram Bot –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≥–æ—Å–∑–∞–∫—É–ø–æ–∫

![Python](https://img.shields.io/badge/python-3.11+-blue.svg)
![Status](https://img.shields.io/badge/status-in%20development-orange.svg)
![Architecture](https://img.shields.io/badge/architecture-clean%20architecture-green.svg)
![API](https://img.shields.io/badge/API-GosPlan%20%2B%20FNS-blue.svg)

**EisBot** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö API.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ü–æ–∏—Å–∫ –∑–∞–∫—É–ø–æ–∫ –ø–æ –ò–ù–ù** –∑–∞–∫–∞–∑—á–∏–∫–∞
- üìä **–†–µ–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π** –∏–∑ –ï–ì–†–Æ–õ/–ï–ì–†–ò–ü
- üìà **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ –∑–∞–∫—É–ø–∫–∞–º
- üåç **–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑** –∑–∞–∫–∞–∑—á–∏–∫–æ–≤
- üí∞ **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏** –∏ —Ç—Ä–µ–Ω–¥—ã
- ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ API

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö **Clean Architecture**:

```
‚îå‚îÄ‚îÄ‚îÄ Presentation Layer ‚îÄ‚îÄ‚îÄ Telegram Bot UI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ [–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è]
‚îú‚îÄ‚îÄ‚îÄ Application Layer ‚îÄ‚îÄ‚îÄ Use Cases & Services ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ [–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è] 
‚îú‚îÄ‚îÄ‚îÄ Domain Layer ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Business Logic ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îî‚îÄ‚îÄ‚îÄ Infrastructure ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ API Integrations ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚úÖ –ì–æ—Ç–æ–≤–æ
```

## üîå API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| API | Endpoint | –î–∞–Ω–Ω—ã–µ | –õ–∏–º–∏—Ç—ã | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|-----|----------|--------|--------|-----------|
| **GosPlan** | `v2test.gosplan.info` | –ó–∞–∫—É–ø–∫–∏ 44-–§–ó/223-–§–ó | 10 req/min | üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| **–ï–ì–†–Æ–õ** | `egrul.itsoft.ru` | –ù–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π | 1000 req/day | üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd EisBot
pip install -r requirements.txt
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

```python
# –¢–µ—Å—Ç GosPlan API
python -c "
import asyncio
from src.infrastructure.repositories import GosPlanProcurementRepository
from src.domain.value_objects import INN

async def test():
    async with GosPlanProcurementRepository() as repo:
        procurements = await repo.find_by_customer_inn(INN('7710349494'), limit=1)
        print(f'–ù–∞–π–¥–µ–Ω–æ –∑–∞–∫—É–ø–æ–∫: {len(procurements)}')
        if procurements:
            print(f'–ó–∞–∫–∞–∑—á–∏–∫: {procurements[0].customer_name}')

asyncio.run(test())
"
```

```python
# –¢–µ—Å—Ç FNS API (–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π)
python -c "
import asyncio
from src.infrastructure.external_apis.fns_client import FNSClient

async def test():
    async with FNSClient() as client:
        org = await client.get_organization_by_inn('7710349494')
        if org:
            print(f'–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: {org.name}')
            print(f'–ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: {org.full_name}')

asyncio.run(test())
"
```

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
EisBot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ domain/                 # ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entities/          # Procurement, Customer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ value_objects/     # INN, Money, DateRange
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repositories/      # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/        # ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories/      # GosPlan API repos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mappers/          # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ external_apis/    # FNS/EGRUL –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ application/          # üîÑ Use Cases (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚îÇ   ‚îî‚îÄ‚îÄ presentation/         # üîÑ Telegram Bot (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚îú‚îÄ‚îÄ tests/                    # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ configs/                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ ARCHITECTURE_SUMMARY.md   # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üß™ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –ü–æ–∏—Å–∫ –∑–∞–∫—É–ø–æ–∫ –ø–æ –ò–ù–ù

```python
from src.domain.value_objects import INN
from src.infrastructure.repositories import GosPlanProcurementRepository

async def search_procurements():
    async with GosPlanProcurementRepository() as repo:
        # –ò—â–µ–º –∑–∞–∫—É–ø–∫–∏ –ú–∏–Ω—ç–∫–æ–Ω–æ–º—Ä–∞–∑–≤–∏—Ç–∏—è
        customer_inn = INN('7710349494')
        procurements = await repo.find_by_customer_inn(customer_inn, limit=5)
        
        for p in procurements:
            print(f"üìã {p.title}")
            print(f"üí∞ –°—É–º–º–∞: {p.initial_price}")
            print(f"üè¢ –ó–∞–∫–∞–∑—á–∏–∫: {p.customer_name}")
            print(f"üìÖ –î–∞—Ç–∞: {p.published_date}")
            print("---")
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

```python
from src.infrastructure.external_apis.fns_client import FNSClient

async def get_organization_info():
    async with FNSClient() as client:
        org = await client.get_organization_by_inn('7710349494')
        
        print(f"üè¢ –ù–∞–∑–≤–∞–Ω–∏–µ: {org.name}")
        print(f"üìã –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: {org.full_name}")
        print(f"üÜî –ò–ù–ù: {org.inn}")
        print(f"üìä –°—Ç–∞—Ç—É—Å: {org.status}")
        print(f"üìç –ê–¥—Ä–µ—Å: {org.address}")
```

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –¥–∞–Ω–Ω—ã–º–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | GosPlan API | FNS API | –ò—Ç–æ–≥–æ |
|-----------|:-----------:|:-------:|:-----:|
| **Procurement** | 85% | +15% | **100%** |
| **Customer** | 60% | +40% | **100%** |
| **–ù–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥.** | 0% | 100% | **100%** |

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] **Domain Layer** - –ø–æ–ª–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- [x] **Infrastructure Layer** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API
- [x] **GosPlan API** - –ø–æ–∏—Å–∫ –∑–∞–∫—É–ø–æ–∫
- [x] **FNS/EGRUL API** - –Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- [x] **Data Mapping** - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- [x] **Async Processing** - –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### üîÑ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [ ] **Application Layer** - Use Cases –∏ —Å–µ—Ä–≤–∏—Å—ã
- [ ] **Telegram Bot** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] **Caching** - Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **Analytics** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### üìã –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- [ ] **ML Analytics** - –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç—Ä–µ–Ω–¥—ã
- [ ] **Export Features** - Excel/PDF –æ—Ç—á–µ—Ç—ã
- [ ] **Notifications** - –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- [ ] **Admin Dashboard** - –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/

# –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
python test_repositories.py
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. **Domain Layer** - –¥–æ–±–∞–≤—å—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ `src/domain/`
2. **Infrastructure** - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –≤ `src/infrastructure/`
3. **Tests** - –ø–æ–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–∞–º–∏ –≤ `tests/`

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
cp configs/environment_example.py configs/environment.py
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: ~500ms (—Å –æ–±–æ–≥–∞—â–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã–º–∏ –§–ù–°)
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ~1,200 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å
- **API –ª–∏–º–∏—Ç—ã**: 14,400 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å (—Å—É–º–º–∞—Ä–Ω–æ)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: üÜì **–ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ**

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—à–Ω

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º. [ARCHITECTURE_SUMMARY.md](ARCHITECTURE_SUMMARY.md)

---

**–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –í –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–í–µ—Ä—Å–∏—è**: 1.0-alpha  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –Ø–Ω–≤–∞—Ä—å 2025 